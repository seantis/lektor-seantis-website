<!doctype html>
<html class="no-js" lang="de" dir="ltr" prefix="og: http://ogp.me/ns#">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>seantis gmbh</title>
    <meta name="description"
        content="seantis gmbh entwickelt Webapplikationen f√ºr die medizinische Forschung, die √∂ffentliche Verwaltung sowie f√ºr die Aviatik.">
    <meta property="og:description" content="">
    <meta property="og:site_name" content="seantis">
<meta property="og:url" content="https://www.seantis.ch/blog/the-experience-of-learning-puppet/">
<meta property="og:title" content="The Experience of Learning Puppet">
<meta property="og:type" content="website">
<meta property="og:image" content="https://www.seantis.ch/og_image.jpg">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:type" content="image/jpeg">
<meta property="og:image:alt" content="logo">
    <link rel="stylesheet" href="/static/css/foundation.min.css?h=883e6026">
    <link rel="stylesheet" href="/static/css/fira.css?h=bcd50a1c">
    <link rel="stylesheet" href="/static/css/fontawesome.min.css?h=20d2d431">
    <link rel="stylesheet" href="/static/css/custom.css?h=85151875">
    <link rel="stylesheet" href="/static/css/aos.css?h=9a26a349" />
</head>

<body class="model-blog-post">

    <div class="off-canvas position-left" id="offCanvas" data-off-canvas>

        <!-- Close button -->
        <button class="close-button" aria-label="Close menu" type="button" data-close>
            <span aria-hidden="true">&times;</span>
        </button>

        <!-- Menu -->
        <ul class="menu" data-dropdown-menu>
            
            
            <li class=" "><a href="/portrait/">√úber uns</a></li>
            
            <li class=" "><a href="/engineering/">Engineering</a></li>
            
            <li class=" "><a href="/services/">Services</a></li>
            
            <li class=" "><a href="/academy/">Academy</a></li>
            
            <li class=" "><a href="/success-stories/">Erfolgsgeschichten</a></li>
            
            <li class=" "><a href="/news/">News</a></li>
            
            <li class=" "><a href="/careers/">Jobs</a></li>
            
            <li class=" active"><a href="/blog/">Blog</a></li>
            
            <li class="contact "><a href="/contact/">Kontakt</a></li>
            
        </ul>

    </div>

    <div class="off-canvas-content" data-off-canvas-content>
        <!-- <div class="announcement"><a href="/news/job-python-entwickler/">&rarr; Jobs: Full Stack Python-Entwickler(in) (60-100%)<i class="fab fa-python"></i></a></div> -->
        <!-- <div class="announcement"><a href="/news/deep-learning-rheumatologie/">&rarr; Wissenschaftliche Publikation zur Anwendung von Deep Learning in der Rheumatologie <i class="far fa-newspaper"></i></a></div> -->
        <!-- <div class="announcement"><a href="/news/covid-19/">&rarr; Studie zu COVID-19 f√ºr Rheumapatienten <i class="far fa-newspaper"></i></a></div> -->
        <!-- <div class="announcement"><a href="/news/job-apprenticeship-application-developer/">üë©‚Äçüíª Lehrstelle als Informatiker (Fachrichtung Applikationsentwicklung) ab Sommer 2021 oder 2022</a></div> -->
        <!-- <div class="announcement"><a href="/blog/nzz-hackback/">üõ°Gastkommentar Cyber Security @NZZ #donthackback ‚öîÔ∏è</a></div>-->
        <!-- <div class="announcement"><a href="/success-stories/aircraft-configurator-pilatus/">Digitaler Konfigurator f√ºr die Pilatus Flugzeugwerke üõ©</a></div>-->
        <!-- <div class="announcement"><a href="/portrait/informationssicherheit-iso-27001/"> ISO 27001 zertifiziertes Informationssicherheits-Managementsystem üõ°</a></div>-->
        <!-- <div class="announcement"><a href="/blog/publikationsportal-wahlen-open-source/"> Unser Praxisbeispiel in der Open Source Studie Schweiz 2021 üó≥</a></div> -->
        <div class="announcement"><a href="/blog/cybersecurity-resilienz-resignation/">üßÄ Schweizer K√§se statt Burgmauern f√ºr bessere Informationssicherheit üè∞</a></div>


        <div data-sticky-container>
            <div class="sticky" data-sticky data-sticky-on="small" data-margin-top="0">
                <div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium"
                    style="display:none">
                    <button type="button" class="menu-icon" data-toggle="offCanvas"></button>
                    <div class="title-bar-title"> <a href="/">Home</a></div>
                    <div class="title-bar-right contact"><a href="/contact/">Kontakt</a></div>
                </div>

                <div class="top" id="responsive-menu" style="display:none">
                    <div class="grid-container">
                        <div class="top-bar">
                            <div class="top-bar-left">
                                <ul class="menu hide-for-small-only">
                                    <li><a href="/">Home</a></li>
                                </ul>
                            </div>
                            <div class="top-bar-right">
                                <ul class="menu" data-dropdown-menu>
                                    
                                    <li class=" "><a
                                            href="/portrait/">√úber uns</a></li>
                                    
                                    <li class=" "><a
                                            href="/engineering/">Engineering</a></li>
                                    
                                    <li class=" "><a
                                            href="/services/">Services</a></li>
                                    
                                    <li class=" "><a
                                            href="/academy/">Academy</a></li>
                                    
                                    <li class=" "><a
                                            href="/success-stories/">Erfolgsgeschichten</a></li>
                                    
                                    <li class=" "><a
                                            href="/news/">News</a></li>
                                    
                                    <li class=" "><a
                                            href="/careers/">Jobs</a></li>
                                    
                                    <li class=" active"><a
                                            href="/blog/">Blog</a></li>
                                    
                                    <li class="contact "><a
                                            href="/contact/">Kontakt</a></li>
                                    
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid-container">
            <div class="header">
                <div class="top-bar">
                    <div class="top-bar-left">
                        <a href="/"><img id="logo" src="/static/img/logo.svg"
                                alt="Zur Startseite" /></a>
                    </div>
                    <div class="top-bar-right">
                        <form action="/search/">
                            <div class="input-group show-for-medium">
                                <input class="input-group-field" type="search" name="q" id="tipue_search_input">
                                <div class="input-group-button">
                                    <input type="submit" class="button" value="Suche">
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        

    <div class="head">
        <div class="grid-container">
            <div class="grid-x grid-padding-x">
                <div class="large-7 large-offset-1 medium-10 medium-offset-1 cell">
                    <h5 class="subheader"><small>13.06.2012</small></h5>
                    <h1>The Experience of Learning Puppet</h1>
                    <p class="lead"></p>
                </div>
            </div>
        </div>
    </div>

    
    

    <div class="grid-container">
        <div class="grid-x grid-margin-x">
            <div class="large-7 large-offset-1 medium-9 medium-offset-1 cell">
                <div class="main-content">
                    <p>About a month ago I started introducing puppet to our infrastructure at
<a href="https://www.seantis.ch">seantis</a>. After ploughing through <a href="http://www.apress.com/9781430230571">Pro
Puppet</a> I was able to declare our basic
configuration needs, setup the basic infrastructure and deploy two servers in
no time.</p>
<p>The experience I made is the basis for this post.</p>
<h2>Why Puppet</h2>
<p>Before betting on puppet I had a good look at what is out there. Basically, I
looked at Puppet and Chef, both ruby based systems for automating
configuration. Other options like <a href="http://saltstack.org/">Salt</a> or
<a href="http://cfengine.com/">Cfengine</a> I dismissed since they seem rather new or
old, respectively.</p>
<p>The big difference between Puppet and Chef, as any article will tell you, is
the fact that Chef is an extension to Ruby, while Puppet relies on its own
declarative configuration language per default.</p>
<p>As I liked the idea of declaring my needs, instead of just writing ruby code,
I went for the Puppet road.</p>
<p>(At this point I should probably spend a month with Chef, but who has that
kind of time?)</p>
<h2>Starting Out</h2>
<p>Puppet is easy to like. The initial setup with
<a href="http://www.vagrantup.com">Vagrant</a> was simple and really helped me working
out the kinks of my initial manifests.</p>
<p>Similarly, setting up a Puppetmaster and connecting an agent to it is
something you don‚Äôt need a PHD for. There‚Äôs certainly some amount of reading
required to have a basic understanding, but it‚Äôs neither brain surgery nor
rocket science.</p>
<h2>It Gets Complex Fast</h2>
<p>Puppet has the concept of modules. Being used to write reusable code I pretty
much started using them for any service I could think of. Setup Mysql? Use a
module. Define Users? Use a module. And so on.</p>
<p>Unfortunately, this is the point where documentation gets kinda thin. It‚Äôs
nice if you can set up your a Trac project with two lines of code after you‚Äôve
hidden all the nitty gritty in some module. It‚Äôs really what I hoped to gain
by declaring my configs. No more going crazy on the shell for 10 minutes to
set up everything. No more silly mistakes. Set it, forget it.</p>
<p>But then you realize that you coupled your Trac module too closely with the
Nginx configuration. So you move some code out. You then realize that for
another project to live on the same server you need to completely rethink your
approach because you are not flexible enough.</p>
<p>It‚Äôs all still okay, mind you. You can test your changes locally, you can do
some real life staging and once you update your production machine you can be
reasonably sure that nothing unexpected will happen.</p>
<p>That‚Äôs of course what a learning curve looks like, but I was still somewhat
unprepared for the fast increase in complexity of my configurations.</p>
<h2>Puppet Forge to the Rescue?</h2>
<p>Whenever a smaller mind like yours truly encounters problems it goes off to
wander around open source land. The <a href="http://forge.puppetlabs.com">Puppet
Forge</a> and numerous Github projects are waiting
to be studied.</p>
<p>Unfortunately, it‚Äôs not like shopping for a nice Python module in the
Cheeseshop. It is quite hard to find a module that suits your needs. If you
find one it is then hard to assess the quality of said module. At least for
novices like me.</p>
<p>I mean I did find good modules, like the <a href="https://github.com/puppetlabs/puppetlabs-mysql">Mysql module from
Puppetlabs</a> (though my Mysql
needs are really basic). But I also encountered a number of modules which just
didn‚Äôt seem like the kind of modules I would want to use on our
infrastructure.</p>
<p>For example <a href="https://github.com/puppetlabs/puppetlabs-nginx">Puppetlabs‚Äô own Nginx module</a>
which has a listen_port parameter in the vhost resource
which does nothing. A bug which was fixed in another fork months ago and has
since been sitting around <a href="https://github.com/puppetlabs/puppetlabs-nginx/pull/15">waiting to be pulled</a>.</p>
<p>I mean I know that Puppetlabs‚Äô modules are not an official part of puppet, but
as someone who is starting out it is still kinda surprising to me that a bug
like that wouldn‚Äôt be fixed quicker. A module by the people who wrote puppet
just seems like a module you would want to trust.</p>
<h2>Do Modules Really Work?</h2>
<p>At this point I‚Äôm starting to wonder just how feasible community modules
really are. From the modules I wrote and the modules I looked at I get the
feeling that it is very hard to write a good module that supports different,
complex use cases.</p>
<p>The fork-jungle that is puppetlabs-nginx suggests that you end up writing your
own version of a module quickly. Which of course is a bit of a problem,
because it gets very hard to figure out which module to use. So you fork your
own. Or write your own. And who wants to do that? There are certainly more
interesting things to work on.</p>
<h2>Summing Up</h2>
<p>I do like Puppet and it certainly helped a lot already. Even if just for the
fact that it forced me to really understand all the steps involved in
configuring our servers. But Puppet is not yet something that feels completely
solid. At least not for complex use cases. At least not to me.</p>
<p>But, I am keen to learn a great deal more about it so my views are surely up
for changing. And what do I know, really?</p>
<p>Also visit my personal blog:
<a href="http://blog.stacktrace.ch"><strong>http://blog.stacktrace.ch</strong></a></p>

                </div>
            </div>
        </div>
    </div>


        <footer>
            <div class="grid-container">
                <div class="grid-x grid-padding-x">
                    <div class="large-8 medium-8 cell">
                        <h4>Building data-driven web applications with an open-source toolset and an agile mindset</h4>
                        <p>Wir entwicklen qualitativ hochstehende Software. Dazu setzen wir auf die besten Open Source
                            Entwickler-Tools und arbeiten gem√§ss Agiler Methodik.</p>
                        <a href="http://www.swissmadesoftware.org">
                            <img id="swissmadesoftware" src="/static/img/swissmadesoftware.png"
                                alt="Swiss made software" />
                        </a>
                        <div class="bosw">
                            <a href="https://www.bestofswissweb.ch">
                                <img src="/static/img/bosw-2019.png" alt="Best of Swiss Web 2019" />
                                <img src="/static/img/bosw-2016.svg" alt="Best of Swiss Web 2016" />
                            </a>
                            <a href="https://www.berufsbildungplus.ch">
                                <img src="/static/img/vignette-sbfi.png" alt="Lehrbetrieb" />
                            </a>
                            <a href="/portrait/informationssicherheit-iso-27001/">
                                <img src="/static/img/SSC_ISO27001_transparent.png"
                                    alt="ISO/IEC 27001:2013" />
                            </a>
                        </div>
                    </div>
                    <div class="large-4 medium-4 cell">
                        <h5>Cloud Platform</h5>
                        <ul>
                            <li><a href="http://www.healthdata.ai">HealthData.ai</a></li>
                            <li><a href="https://admin.digital">OneGov Cloud</a></li>
                            <li><a href="http://www.mycontrol.aero">myControl.aero</a></li>
                        </ul>
                        <a class="button" href="/contact/">Kontakt</a>
                    </div>
                </div>

                <div class="grid-x grid-padding-x">
                    <div class="large-12 cell">
                        <div id="copyright">¬© 2005 - 2023 by seantis gmbh | Lektor powered &
                            built with Python</div>
                    </div>
                </div>

            </div>
        </footer>
    </div>

    <script src="/static/js/jquery.min.js?h=1055018c"></script>

    <script src="/static/js/aos.js?h=e38950c1"></script>
    <script>
        AOS.init();
    </script>

    <script src="/static/js/what-input.min.js?h=d37c555d"></script>
    <script src="/static/js/foundation.min.js?h=507bf6ca"></script>
    <script src="/static/js/tipuesearch_set.js?h=51d521ed"></script>
    <script src="/static/js/tipuesearch.min.js?h=bd976a7c"></script>
    <script src="/static/js/app.js?h=a7d8dbf4"></script>

    <script>
        $(document).foundation();

        var _paq = _paq || [];
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function () {
            var u = "//stats.seantis.ch/";
            _paq.push(['setTrackerUrl', u + 'piwik.php']);
            _paq.push(['setSiteId', '15']);
            var d = document, g = d.createElement('script'), s = d.getElementsByTagName('script')[0];
            g.type = 'text/javascript'; g.async = true; g.defer = true; g.src = u + 'piwik.js'; s.parentNode.insertBefore(g, s);
        })();

        $(function () {
            $(".storybox-" + (new Date().getTime() % 4 + 1)).css("display", "block");
        });

         
    </script>

</body>

</html>
